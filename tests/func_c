Input: (def hello (a b) (print a) (print b) (print 'hi') (print '123') (print 123)) (hello 2 4)
AST: []interface {}{parser.FunctionDefinition{Name:"hello", Params:[]string{"a", "b"}, Body:[]interface {}{[]interface {}{parser.Identifier{Value:"print"}, parser.Identifier{Value:"a"}}, []interface {}{parser.Identifier{Value:"print"}, parser.Identifier{Value:"b"}}, []interface {}{parser.Identifier{Value:"print"}, parser.String{Value:"'hi'"}}, []interface {}{parser.Identifier{Value:"print"}, parser.String{Value:"'123'"}}, []interface {}{parser.Identifier{Value:"print"}, parser.Number{Value:123}}}}, []interface {}{parser.Identifier{Value:"hello"}, parser.Number{Value:2}, parser.Number{Value:4}}}
Raw Bytecode: [47 47 0 0 0 30 1 0 0 0 97 9 30 1 0 0 0 98 9 33 2 0 0 0 104 105 9 33 3 0 0 0 49 50 51 9 31 0 0 0 0 0 192 94 64 9 46 45 5 0 0 0 104 101 108 108 111 0 0 0 0 2 0 0 0 2 0 0 0 1 0 0 0 97 1 0 0 0 98 31 0 0 0 0 0 0 0 64 31 0 0 0 0 0 0 16 64 48 5 0 0 0 104 101 108 108 111]
===current opcode: 30	byte index: 1
===current opcode: 9	byte index: 7
===current opcode: 30	byte index: 8
===current opcode: 9	byte index: 14
===current opcode: 33	byte index: 15
===current opcode: 9	byte index: 22
===current opcode: 33	byte index: 23
===current opcode: 9	byte index: 31
===current opcode: 31	byte index: 32
===current opcode: 9	byte index: 41
===current opcode: 46	byte index: 42
Generated Bytecode Instructions: [{47 [[11 0 0 0]]} {30 [[97]]} {9 []} {30 [[98]]} {9 []} {33 [[104 105]]} {9 []} {33 [[49 50 51]]} {9 []} {31 [[0 0 0 0 0 192 94 64]]} {9 []} {46 []} {45 [[104 101 108 108 111] [0 0 0 0] [2 0 0 0] [2 0 0 0] [1 0 0 0] [97] [1 0 0 0] [98]]} {31 [[0 0 0 0 0 0 0 64]]} {31 [[0 0 0 0 0 0 16 64]]} {48 [[104 101 108 108 111]]}]
Initial VM State:
&{stack:[] pc:0 code:[{Opcode:47 Operands:[[11 0 0 0]]} {Opcode:30 Operands:[[97]]} {Opcode:9 Operands:[]} {Opcode:30 Operands:[[98]]} {Opcode:9 Operands:[]} {Opcode:33 Operands:[[104 105]]} {Opcode:9 Operands:[]} {Opcode:33 Operands:[[49 50 51]]} {Opcode:9 Operands:[]} {Opcode:31 Operands:[[0 0 0 0 0 192 94 64]]} {Opcode:9 Operands:[]} {Opcode:46 Operands:[]} {Opcode:45 Operands:[[104 101 108 108 111] [0 0 0 0] [2 0 0 0] [2 0 0 0] [1 0 0 0] [97] [1 0 0 0] [98]]} {Opcode:31 Operands:[[0 0 0 0 0 0 0 64]]} {Opcode:31 Operands:[[0 0 0 0 0 0 16 64]]} {Opcode:48 Operands:[[104 101 108 108 111]]}] symbolTableStack:[0x1400008ff10] functions:map[] callStack:[]}
Executing Instruction at PC 0: Opcode 47, Operands [[11 0 0 0]]
Current PC: 1	Jump offset: 11
Updated PC: 12
Executing Instruction at PC 12: Opcode 45, Operands [[104 101 108 108 111] [0 0 0 0] [2 0 0 0] [2 0 0 0] [1 0 0 0] [97] [1 0 0 0] [98]]
Function hello defined with param count: 2 and params: [a b]
Function hello starts at: 1
Current PC: 13
Executing Instruction at PC 13: Opcode 31, Operands [[0 0 0 0 0 0 0 64]]
Stack after PUSH_NUMBER: [2]
Executing Instruction at PC 14: Opcode 31, Operands [[0 0 0 0 0 0 16 64]]
Stack after PUSH_NUMBER: [2 4]
Executing Instruction at PC 15: Opcode 48, Operands [[104 101 108 108 111]]
Executing Instruction at PC 1: Opcode 30, Operands [[97]]
Stack after PUSH_VARIABLE (a): [2]
Executing Instruction at PC 2: Opcode 9, Operands []
2
Executing Instruction at PC 3: Opcode 30, Operands [[98]]
Stack after PUSH_VARIABLE (b): [4]
Executing Instruction at PC 4: Opcode 9, Operands []
4
Executing Instruction at PC 5: Opcode 33, Operands [[104 105]]
Stack after PUSH_STRING: [hi]
Executing Instruction at PC 6: Opcode 9, Operands []
hi
Executing Instruction at PC 7: Opcode 33, Operands [[49 50 51]]
Stack after PUSH_STRING: [123]
Executing Instruction at PC 8: Opcode 9, Operands []
123
Executing Instruction at PC 9: Opcode 31, Operands [[0 0 0 0 0 192 94 64]]
Stack after PUSH_NUMBER: [123]
Executing Instruction at PC 10: Opcode 9, Operands []
123
Executing Instruction at PC 11: Opcode 46, Operands []
Error executing Goo code: No return value found on the stack
Final VM State:
&{stack:[] pc:12 code:[{Opcode:47 Operands:[[11 0 0 0]]} {Opcode:30 Operands:[[97]]} {Opcode:9 Operands:[]} {Opcode:30 Operands:[[98]]} {Opcode:9 Operands:[]} {Opcode:33 Operands:[[104 105]]} {Opcode:9 Operands:[]} {Opcode:33 Operands:[[49 50 51]]} {Opcode:9 Operands:[]} {Opcode:31 Operands:[[0 0 0 0 0 192 94 64]]} {Opcode:9 Operands:[]} {Opcode:46 Operands:[]} {Opcode:45 Operands:[[104 101 108 108 111] [0 0 0 0] [2 0 0 0] [2 0 0 0] [1 0 0 0] [97] [1 0 0 0] [98]]} {Opcode:31 Operands:[[0 0 0 0 0 0 0 64]]} {Opcode:31 Operands:[[0 0 0 0 0 0 16 64]]} {Opcode:48 Operands:[[104 101 108 108 111]]}] symbolTableStack:[0x1400008ff10 0x1400008ff90] functions:map[hello:{StartAddress:1 ParamCount:2 ParamNames:[a b]}] callStack:[{returnAddress:16 symbolTable:0x1400008ff10}]}
